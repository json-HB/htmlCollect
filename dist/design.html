<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>design</title>
    <style></style>
  </head>
  <body>
    <h1>design</h1>
    <div class="showDom"></div>
    <button class="show">show</button>
    <button class="hidden">hidden</button>
    <style>
      .showDom {
        border: 1px solid #ccc;
        padding: 5px;
        background: red;
        box-shadow: 0 0 2px #ddd;
        border-radius: 3px;
        display: inline-block;
        margin: 0 auto;
      }
    </style>
    <script>
      // util
      function log(...arg) {
        console.log(...arg);
      }
    </script>
    <script type="module" crossorigin="anonymous">
      //   // 单列模式
      //   class SingleClass {
      //     static getInstance = (() => {
      //       let instance;
      //       return name => {
      //         if (instance) {
      //           return instance;
      //         } else {
      //           instance = new SingleClass(name);
      //           return instance;
      //         }
      //       };
      //     })();
      //     constructor(name) {
      //       this.name = document.querySelector(`.${name}`);
      //       this.state = false;
      //       this.init();
      //     }
      //     init() {
      //       this.name.innerText = this.state ? 'show' : 'hidden';
      //       let nextDom = this.name.nextElementSibling;
      //       log(nextDom);
      //       while (nextDom.tagName.toUpperCase() == 'BUTTON') {
      //         if (nextDom.innerText === 'show') {
      //           this.bindEvent(nextDom, 'show');
      //         } else if (nextDom.innerText === 'hidden') {
      //           this.bindEvent(nextDom, 'hidden');
      //         }
      //         nextDom = nextDom.nextElementSibling;
      //       }
      //     }
      //     bindEvent(dom, type) {
      //       dom.addEventListener(
      //         'click',
      //         () => {
      //           if (type == 'show') {
      //             this.show();
      //           } else {
      //             this.hide();
      //           }
      //         },
      //         {
      //           capture: false,
      //         }
      //       );
      //     }
      //     show() {
      //       if (this.state == true) {
      //         return;
      //       }
      //       this.state = true;
      //       this.init();
      //     }
      //     hide() {
      //       if (this.state == false) {
      //         return;
      //       }
      //       this.state = false;
      //       this.init();
      //     }
      //   }
      //   const obj1 = SingleClass.getInstance('showDom');
      //   const obj2 = SingleClass.getInstance('showDom');
      //   log(obj1 === obj2);
      //   log(Object.is(obj1, obj2));
    </script>
    <script>
      function dayD(target, key, desc) {
        console.log('desc');
      }
      class Demo {
        say() {
          log('helo');
        }
      }
      let a = new Demo();
      a.say();
    </script>
  </body>
</html>
